{
  "comments": [
    {
      "key": {
        "uuid": "4d119541_1a32bd20",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1019877
      },
      "writtenOn": "2015-05-06T08:13:13Z",
      "side": 1,
      "message": "Over in https://gerrit-review.googlesource.com/#/c/67655/ the documentation still says \"By default, the built-in configuration does allow anonymous browsing...\" but in src/resources/gitblit.properties, the key is still set to web.authenticateViewPages \u003d true?",
      "revId": "2e99279191c1f75526775e0f02c90c15055ee48e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6d0019f0_5b61630e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2015-05-06T10:56:54Z",
      "side": 1,
      "message": "It is correct. The Gerrit\u0027s \"anonymous browsing\" is completely different from GitBlit authenticateViewPages \u003d false.\n\nWhen GitBlit is told to not authenticateViewPages, it gives you access to everything without authentication, which is not what most people wants.\n\nWhen Gerrit is told to allow anonymous browsing, it actually identifies you as \"anonymous user\" with associated access permissions. We need to keep the Gerrit way to be sure to apply the relevant security policies when allowing repository browsing.\n\nDoes it make sense?",
      "parentUuid": "4d119541_1a32bd20",
      "revId": "2e99279191c1f75526775e0f02c90c15055ee48e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6d0019f0_fb6f0ff7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1019877
      },
      "writtenOn": "2015-05-06T11:06:55Z",
      "side": 1,
      "message": "Ok. I forgot that the authentication in stable-2.11 works differently from the GitHub version. (In my GitHub version, anon is really anon in gitblit, but still subject to Gerrit\u0027s ACL. In your version, anon in gitblit is actually a fake Gerrit $anonymous user, so always seen as \"logged in\" by gitblit.)",
      "parentUuid": "6d0019f0_5b61630e",
      "revId": "2e99279191c1f75526775e0f02c90c15055ee48e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6d0019f0_bb52a737",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2015-05-06T16:01:13Z",
      "side": 1,
      "message": "I see, apart from the implementation side, is the user-experience different? What is not working property with the current approach?",
      "parentUuid": "6d0019f0_fb6f0ff7",
      "revId": "2e99279191c1f75526775e0f02c90c15055ee48e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4d119541_da9e8565",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1019877
      },
      "writtenOn": "2015-05-06T16:36:14Z",
      "side": 1,
      "message": "I didn\u0027t want to suggest you change it; I just explained why I was confused about that web.authenticateViewPages setting.\n\nThe user experience is different. IIRC (can\u0027t test with stable-2.11 at the moment), an anonymous user was reported as \"$anonymous\" in GitBlit (top right on the screen) and had to go to a normal Gerrit screen to log in, whereas with my implementation, he just gets the normal GitBlit login form top right and if that is used, he\u0027s logged in via Gerrit.\n\nIt\u0027s no big deal. Just leave it as it is.",
      "parentUuid": "6d0019f0_bb52a737",
      "revId": "2e99279191c1f75526775e0f02c90c15055ee48e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4d119541_ba84f10f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2015-05-07T07:17:07Z",
      "side": 1,
      "message": "I see, however I find confusing that a viewer (that is the current usage of GitBlit here) allows the user to login using a different user experience and (potentially) failing because the user-auth is not username/password based.\n\nLet\u0027s say you are using OAuth with Gerrit, how the login form could possibly work and provide the same Gerrit/OAuth user experience? I think your implementation was working in your specific case (LDAP auth?) but wouldn\u0027t work for non username/password based auth mechanisms.\n\nI see your point of the misleading \"$anonymous\" user in GitBlit: possibly worth a fix on GitBlit to define an AnonymousUser subclass?",
      "parentUuid": "4d119541_da9e8565",
      "revId": "2e99279191c1f75526775e0f02c90c15055ee48e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6d0019f0_fb038f0f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1019877
      },
      "writtenOn": "2015-05-07T07:46:10Z",
      "side": 1,
      "message": "I guess you\u0027re right. I _think_ you could simply get rid of that \"$anonymous\" display by setting in gitblit.properties\n\n  web.displayUserPanel \u003d false\n\nSee https://github.com/gitblit/gitblit/commit/afb98a261 ; should be in Gitblit 1.7.0.",
      "parentUuid": "4d119541_ba84f10f",
      "revId": "2e99279191c1f75526775e0f02c90c15055ee48e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}